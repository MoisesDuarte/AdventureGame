<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AdventureGame</title>

    <link rel="stylesheet" href="css/style.css">
    <script src="js/ui_functions.js"></script>
    
    <script type="text/javascript">
        function carregarCena() { montarCena('blocoA') }

        function mostrarFala() {
            let i = 0;
            let textContainer = document.querySelector(".text-conteudo");
            let jsonString = '[{"nome":"Laborat\u00f3rio 1","descricao":"","fundo":"BackgroundLaboratorio1.jpg","locais":[{"nome":"Bloco A","destino":"blocoA"}],"pontosInteresse":[{"nome":"Computador","descricao":"Tela preta, travada. N\u00e3o adianta reiniciar, eu sei que ele n\u00e3o vai voltar a ligar t\u00e3o cedo."}],"atores":[{"id":"ramonNeutro","nome":"Professor Ramon","falas":{"neutro":["Ramon: Ol\u00e1, senhor, como anda a vida? J\u00faquia est\u00e1 paradis\u00edaca, como sempre.","Ramon: Sem d\u00favidas, uma cidade do futuro! Oh, gr\u00e3 prov\u00edncia de \u00e1guas turvas!"]}}]}]'; 
            let cena = JSON.parse(jsonString);
            let falas = cena[0].atores[0].falas["neutro"];


            for (let fala of falas) {
                ((i) => {
                    console.log(fala);
                    setTimeout(() => {
                        textContainer.innerHTML = fala;
                    }, 4000*i); // delay para aparição de fala
                })(i);
                i++;
            }
            
        };
    </script>
</head>
<body>
    <div class="site-container">
        <div class="grid-container">
            <div class="menu-container">
                <ul class="menu-items">
                    <li onclick="mostrarItem('.movimento-items')">Mover</li>
                    <li onclick="mostrarItem('.examinar-items')">Examinar</li>
                    <li onclick="mostrarItem('.falar-items')">Falar</li>
                    <li onclick="mostrarItem('.inventario-items')">Inventário</li>
                </ul>
                
                <ul style="display: none" class="movimento-items">
                    <li onclick="mostrarItem('.menu-items')">VOLTAR</li>
                    <hr>
                </ul>
    
                <ul style="display: none" class="examinar-items">
                    <li onclick="mostrarItem('.menu-items')">VOLTAR</li>
                    <hr>
                </ul>

                <ul style="display: none" class="falar-items">
                    <li onclick="mostrarItem('.menu-items')">VOLTAR</li>
                    <hr>
                </ul>                
    
                <ul style="display: none" class="inventario-items">
                    <li onclick="mostrarItem('.menu-items')">VOLTAR</li>
                    <hr>
                </ul>
            </div>
    
            <div class="tela-container">
               
            </div>
            
            <div class="text-container">
                <div class="text-conteudo"></div>
            </div>
            
            <div class="debug">
                <button onclick="carregarCena()">Montar Cena</button>
                <button onclick="mostrarFala()">Montar Cena com Fala</button>
            </div>
            
        </div>
    </div>
</body>
</html>